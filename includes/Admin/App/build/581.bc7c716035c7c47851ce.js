"use strict";(self.webpackChunk_burst_statistics_burst_statistics=self.webpackChunk_burst_statistics_burst_statistics||[]).push([[581],{96169(e,t,r){r.d(t,{x:()=>f});var s=r(10790),a=r(97831),n=r(51609),i=r(58046),o=r(51367),l=r(84276),u=r(57283),d=r(70365);function c({children:e,as:t="ul",axis:r="y",onReorder:c,values:f,...g},h){const v=(0,l.M)(()=>o.P[t]),b=[],p=(0,n.useRef)(!1),_=(0,n.useRef)(null);(0,a.V)(Boolean(f),"Reorder.Group must be provided a values prop","reorder-values");const V={axis:r,groupRef:_,registerItem:(e,t)=>{const s=b.findIndex(t=>e===t.value);-1!==s?b[s].layout=t[r]:b.push({value:e,layout:t[r]}),b.sort(y)},updateOrder:(e,t,r)=>{if(p.current)return;const s=function(e,t,r,s){if(!s)return e;const a=e.findIndex(e=>e.value===t);if(-1===a)return e;const n=s>0?1:-1,i=e[a+n];if(!i)return e;const o=e[a],l=i.layout,c=(0,u.k)(l.min,l.max,.5);return 1===n&&o.layout.max+r>c||-1===n&&o.layout.min+r<c?(0,d.Pe)(e,a,a+n):e}(b,e,t,r);b!==s&&(p.current=!0,c(s.map(m).filter(e=>-1!==f.indexOf(e))))}};(0,n.useEffect)(()=>{p.current=!1});const x={overflowAnchor:"none",...g.style};return(0,s.jsx)(v,{...g,style:x,ref:e=>{_.current=e,"function"==typeof h?h(e):h&&(h.current=e)},ignoreStrict:!0,children:(0,s.jsx)(i.T.Provider,{value:V,children:e})})}const f=(0,n.forwardRef)(c);function m(e){return e.value}function y(e,t){return e.layout.min-t.layout.min}},33454(e,t,r){r.d(t,{N:()=>k});var s=r(10790),a=r(18),n=r(97831),i=r(51609),o=r(58046),l=r(51367),u=r(84276),d=r(70739),c=r(38317);function f(e){const t=(0,u.M)(()=>(0,d.OQ)(e)),{isStatic:r}=(0,i.useContext)(c.Q);if(r){const[,r]=(0,i.useState)(e);(0,i.useEffect)(()=>t.on("change",r),[])}return t}var m=r(69646),y=r(97530),g=r(21231);function h(e,t){const r=f(t()),s=()=>r.set(t());return s(),(0,g.E)(()=>{const t=()=>y.Gt.preRender(s,!1,!0),r=e.map(e=>e.on("change",t));return()=>{r.forEach(e=>e()),(0,y.WG)(s)}}),r}function v(e,t,r,s){if("function"==typeof e)return function(e){d.bt.current=[],e();const t=h(d.bt.current,e);return d.bt.current=void 0,t}(e);if(void 0!==r&&!Array.isArray(r)&&"function"!=typeof t)return function(e,t,r,s){const a=(0,u.M)(()=>Object.keys(r)),n=(0,u.M)(()=>({}));for(const i of a)n[i]=v(e,t,r[i],s);return n}(e,t,r,s);const a="function"==typeof t?t:function(...e){const t=!Array.isArray(e[0]),r=t?0:-1,s=e[0+r],a=e[1+r],n=e[2+r],i=e[3+r],o=(0,m.G)(a,n,i);return t?o(s):o}(t,r,s),n=Array.isArray(e)?b(e,a):b([e],([e])=>a(e)),i=Array.isArray(e)?void 0:e.accelerate;return i&&!i.isTransformed&&"function"!=typeof t&&Array.isArray(r)&&!1!==s?.clamp&&(n.accelerate={...i,times:t,keyframes:r,isTransformed:!0,...s?.ease?{ease:s.ease}:{}}),n}function b(e,t){const r=(0,u.M)(()=>[]);return h(e,()=>{r.length=0;const s=e.length;for(let t=0;t<s;t++)r[t]=e[t].get();return t(r)})}const p=new Set(["auto","scroll"]),_=new WeakMap,V=new WeakMap;let x=null;function w(e,t){const r=getComputedStyle(e),s="x"===t?r.overflowX:r.overflowY,a=e===document.body||e===document.documentElement;return p.has(s)||a}function F(e,t){let r=e?.parentElement;for(;r;){if(w(r,t))return r;r=r.parentElement}return null}function S(e,t=0){return(0,a.S)(e)?e:f(t)}function A({children:e,style:t={},value:r,as:a="li",onDrag:d,onDragEnd:c,layout:f=!0,...m},y){const g=(0,u.M)(()=>l.P[a]),h=(0,i.useContext)(o.T),b={x:S(t.x),y:S(t.y)},p=v([b.x,b.y],([e,t])=>e||t?1:"unset");(0,n.V)(Boolean(h),"Reorder.Item must be a child of Reorder.Group","reorder-item-child");const{axis:w,registerItem:A,updateOrder:k,groupRef:D}=h;return(0,s.jsx)(g,{drag:w,...m,dragSnapToOrigin:!0,style:{...t,x:b.x,y:b.y,zIndex:p},layout:f,onDrag:(e,t)=>{const{velocity:s,point:a}=t,n=b[w].get();k(r,n,s[w]),function(e,t,r,s){if(!e)return;x=e;const a=F(e,r);if(!a)return;const n=t-("x"===r?window.scrollX:window.scrollY),{amount:i,edge:o}=function(e,t,r){const s=t.getBoundingClientRect(),a=e-("x"===r?Math.max(0,s.left):Math.max(0,s.top)),n=("x"===r?Math.min(window.innerWidth,s.right):Math.min(window.innerHeight,s.bottom))-e;if(a<50){const e=1-a/50;return{amount:-25*e*e,edge:"start"}}if(n<50){const e=1-n/50;return{amount:25*e*e,edge:"end"}}return{amount:0,edge:null}}(n,a,r);if(null===o)return V.delete(a),void _.delete(a);const l=V.get(a),u=a===document.body||a===document.documentElement;if(l!==o){if(!("start"===o&&s<0||"end"===o&&s>0))return;V.set(a,o);const e="x"===r?a.scrollWidth-(u?window.innerWidth:a.clientWidth):a.scrollHeight-(u?window.innerHeight:a.clientHeight);_.set(a,e)}if(i>0){const e=_.get(a);if(("x"===r?u?window.scrollX:a.scrollLeft:u?window.scrollY:a.scrollTop)>=e)return}"x"===r?u?window.scrollBy({left:i}):a.scrollLeft+=i:u?window.scrollBy({top:i}):a.scrollTop+=i}(D.current,a[w],w,s[w]),d&&d(e,t)},onDragEnd:(e,t)=>{!function(){if(x){const e=F(x,"y");e&&(V.delete(e),_.delete(e));const t=F(x,"x");t&&t!==e&&(V.delete(t),_.delete(t)),x=null}}(),c&&c(e,t)},onLayoutMeasure:e=>{A(r,e)},ref:y,ignoreStrict:!0,children:e})}const k=(0,i.forwardRef)(A)},58046(e,t,r){r.d(t,{T:()=>s});const s=(0,r(51609).createContext)(null)},21632(e,t,r){r.d(t,{FH:()=>N,Op:()=>I,lN:()=>C,mN:()=>xe,xI:()=>L,xW:()=>U});var s=r(51609),a=e=>"checkbox"===e.type,n=e=>e instanceof Date,i=e=>null==e;const o=e=>"object"==typeof e;var l=e=>!i(e)&&!Array.isArray(e)&&o(e)&&!n(e),u=e=>l(e)&&e.target?a(e.target)?e.target.checked:e.target.value:e,d=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),c="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function f(e){if(e instanceof Date)return new Date(e);const t="undefined"!=typeof FileList&&e instanceof FileList;if(c&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!(r||l(e)&&(e=>{const t=e.constructor&&e.constructor.prototype;return l(t)&&t.hasOwnProperty("isPrototypeOf")})(e)))return e;const s=r?[]:Object.create(Object.getPrototypeOf(e));for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(s[t]=f(e[t]));return s}var m=e=>/^\w*$/.test(e),y=e=>void 0===e,g=e=>Array.isArray(e)?e.filter(Boolean):[],h=e=>g(e.replace(/["|']|\]/g,"").split(/\.|\[/)),v=(e,t,r)=>{if(!t||!l(e))return r;const s=(m(t)?[t]:h(t)).reduce((e,t)=>i(e)?e:e[t],e);return y(s)||s===e?y(e[t])?r:e[t]:s},b=e=>"boolean"==typeof e,p=e=>"function"==typeof e,_=(e,t,r)=>{let s=-1;const a=m(t)?[t]:h(t),n=a.length,i=n-1;for(;++s<n;){const t=a[s];let n=r;if(s!==i){const r=e[t];n=l(r)||Array.isArray(r)?r:isNaN(+a[s+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=n,e=e[t]}};const V="blur",x="onChange",w="onSubmit",F="all",S="pattern",A="required",k=s.createContext(null);k.displayName="HookFormControlContext";const D=()=>s.useContext(k);var E=(e,t,r,s=!0)=>{const a={defaultValues:t._defaultValues};for(const n in e)Object.defineProperty(a,n,{get:()=>{const a=n;return t._proxyFormState[a]!==F&&(t._proxyFormState[a]=!s||F),r&&(r[a]=!0),e[a]}});return a};const O="undefined"!=typeof window?s.useLayoutEffect:s.useEffect;function C(e){const t=D(),{control:r=t,disabled:a,name:n,exact:i}=e||{},[o,l]=s.useState(r._formState),u=s.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return O(()=>r._subscribe({name:n,formState:u.current,exact:i,callback:e=>{!a&&l({...r._formState,...e})}}),[n,a,i]),s.useEffect(()=>{u.current.isValid&&r._setValid(!0)},[r]),s.useMemo(()=>E(o,r,u.current,!1),[o,r])}var M=e=>"string"==typeof e,R=(e,t,r,s,a)=>M(e)?(s&&t.watch.add(e),v(r,e,a)):Array.isArray(e)?e.map(e=>(s&&t.watch.add(e),v(r,e))):(s&&(t.watchAll=!0),r),T=e=>i(e)||!o(e);function j(e,t,r=new WeakSet){if(T(e)||T(t))return Object.is(e,t);if(n(e)&&n(t))return Object.is(e.getTime(),t.getTime());const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of s){const s=e[i];if(!a.includes(i))return!1;if("ref"!==i){const e=t[i];if(n(s)&&n(e)||l(s)&&l(e)||Array.isArray(s)&&Array.isArray(e)?!j(s,e,r):!Object.is(s,e))return!1}}return!0}function N(e){const t=D(),{control:r=t,name:a,defaultValue:n,disabled:i,exact:o,compute:l}=e||{},u=s.useRef(n),d=s.useRef(l),c=s.useRef(void 0),f=s.useRef(r),m=s.useRef(a);d.current=l;const[y,g]=s.useState(()=>{const e=r._getWatch(a,u.current);return d.current?d.current(e):e}),h=s.useCallback(e=>{const t=R(a,r._names,e||r._formValues,!1,u.current);return d.current?d.current(t):t},[r._formValues,r._names,a]),v=s.useCallback(e=>{if(!i){const t=R(a,r._names,e||r._formValues,!1,u.current);if(d.current){const e=d.current(t);j(e,c.current)||(g(e),c.current=e)}else g(t)}},[r._formValues,r._names,i,a]);O(()=>(f.current===r&&j(m.current,a)||(f.current=r,m.current=a,v()),r._subscribe({name:a,formState:{values:!0},exact:o,callback:e=>{v(e.values)}})),[r,o,a,v]),s.useEffect(()=>r._removeUnmounted());const b=f.current!==r,p=m.current,_=s.useMemo(()=>{if(i)return null;const e=!b&&!j(p,a);return b||e?h():null},[i,b,a,p,h]);return null!==_?_:y}const L=e=>e.render(function(e){const t=D(),{name:r,disabled:a,control:n=t,shouldUnregister:i,defaultValue:o,exact:l=!0}=e,c=d(n._names.array,r),m=s.useMemo(()=>v(n._formValues,r,v(n._defaultValues,r,o)),[n,r,o]),g=N({control:n,name:r,defaultValue:m,exact:l}),h=C({control:n,name:r,exact:l}),x=s.useRef(e),w=s.useRef(void 0),F=s.useRef(n.register(r,{...e.rules,value:g,...b(e.disabled)?{disabled:e.disabled}:{}}));x.current=e;const S=s.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!v(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!v(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!v(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!v(h.validatingFields,r)},error:{enumerable:!0,get:()=>v(h.errors,r)}}),[h,r]),A=s.useCallback(e=>F.current.onChange({target:{value:u(e),name:r},type:"change"}),[r]),k=s.useCallback(()=>F.current.onBlur({target:{value:v(n._formValues,r),name:r},type:V}),[r,n._formValues]),E=s.useCallback(e=>{const t=v(n._fields,r);t&&t._f&&e&&(t._f.ref={focus:()=>p(e.focus)&&e.focus(),select:()=>p(e.select)&&e.select(),setCustomValidity:t=>p(e.setCustomValidity)&&e.setCustomValidity(t),reportValidity:()=>p(e.reportValidity)&&e.reportValidity()})},[n._fields,r]),O=s.useMemo(()=>({name:r,value:g,...b(a)||h.disabled?{disabled:h.disabled||a}:{},onChange:A,onBlur:k,ref:E}),[r,a,h.disabled,A,k,E,g]);return s.useEffect(()=>{const e=n._options.shouldUnregister||i,t=w.current;t&&t!==r&&!c&&n.unregister(t),n.register(r,{...x.current.rules,...b(x.current.disabled)?{disabled:x.current.disabled}:{}});const s=(e,t)=>{const r=v(n._fields,e);r&&r._f&&(r._f.mount=t)};if(s(r,!0),e){const e=f(v(n._options.defaultValues,r,x.current.defaultValue));_(n._defaultValues,r,e),y(v(n._formValues,r))&&_(n._formValues,r,e)}return!c&&n.register(r),w.current=r,()=>{(c?e&&!n._state.action:e)?n.unregister(r):s(r,!1)}},[r,n,c,i]),s.useEffect(()=>{n._setDisabledField({disabled:a,name:r})},[a,r,n]),s.useMemo(()=>({field:O,formState:h,fieldState:S}),[O,h,S])}(e)),B=s.createContext(null);B.displayName="HookFormContext";const U=()=>s.useContext(B),I=e=>{const{children:t,watch:r,getValues:a,getFieldState:n,setError:i,clearErrors:o,setValue:l,trigger:u,formState:d,resetField:c,reset:f,handleSubmit:m,unregister:y,control:g,register:h,setFocus:v,subscribe:b}=e;return s.createElement(B.Provider,{value:s.useMemo(()=>({watch:r,getValues:a,getFieldState:n,setError:i,clearErrors:o,setValue:l,trigger:u,formState:d,resetField:c,reset:f,handleSubmit:m,unregister:y,control:g,register:h,setFocus:v,subscribe:b}),[o,g,d,n,a,m,h,f,c,i,v,l,b,u,y,r])},s.createElement(k.Provider,{value:g},t))};var P=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{},W=e=>Array.isArray(e)?e:[e],H=()=>{let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}};function q(e,t){const r={};for(const s in e)if(e.hasOwnProperty(s)){const a=e[s],n=t[s];if(a&&l(a)&&n){const e=q(a,n);l(e)&&(r[s]=e)}else e[s]&&(r[s]=n)}return r}var G=e=>l(e)&&!Object.keys(e).length,X=e=>"file"===e.type,Y=e=>{if(!c)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},$=e=>"select-multiple"===e.type,z=e=>"radio"===e.type,Q=e=>Y(e)&&e.isConnected;function J(e,t){const r=Array.isArray(t)?t:m(t)?[t]:h(t),s=1===r.length?e:function(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=y(e)?s++:e[t[s++]];return e}(e,r),a=r.length-1,n=r[a];return s&&delete s[n],0!==a&&(l(s)&&G(s)||Array.isArray(s)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!y(e[t]))return!1;return!0}(s))&&J(e,r.slice(0,-1)),e}function K(e){return Array.isArray(e)||l(e)&&!(e=>{for(const t in e)if(p(e[t]))return!0;return!1})(e)}function Z(e,t={}){for(const r in e){const s=e[r];K(s)?(t[r]=Array.isArray(s)?[]:{},Z(s,t[r])):y(s)||(t[r]=!0)}return t}function ee(e,t,r){r||(r=Z(t));for(const s in e){const a=e[s];if(K(a))y(t)||T(r[s])?r[s]=Z(a,Array.isArray(a)?[]:{}):ee(a,i(t)?{}:t[s],r[s]);else{const e=t[s];r[s]=!j(a,e)}}return r}const te={value:!1,isValid:!1},re={value:!0,isValid:!0};var se=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!y(e[0].attributes.value)?y(e[0].value)||""===e[0].value?re:{value:e[0].value,isValid:!0}:re:te}return te},ae=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>y(e)?e:t?""===e?NaN:e?+e:e:r&&M(e)?new Date(e):s?s(e):e;const ne={isValid:!1,value:null};var ie=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,ne):ne;function oe(e){const t=e.ref;return X(t)?t.files:z(t)?ie(e.refs).value:$(t)?[...t.selectedOptions].map(({value:e})=>e):a(t)?se(e.refs).value:ae(y(t.value)?e.ref.value:t.value,e)}var le=e=>e instanceof RegExp,ue=e=>y(e)?e:le(e)?e.source:l(e)?le(e.value)?e.value.source:e.value:e,de=e=>({isOnSubmit:!e||e===w,isOnBlur:"onBlur"===e,isOnChange:e===x,isOnAll:e===F,isOnTouch:"onTouched"===e});const ce="AsyncFunction";var fe=e=>!!e&&!!e.validate&&!!(p(e.validate)&&e.validate.constructor.name===ce||l(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===ce)),me=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const ye=(e,t,r,s)=>{for(const a of r||Object.keys(e)){const r=v(e,a);if(r){const{_f:e,...n}=r;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],a)&&!s)return!0;if(e.ref&&t(e.ref,e.name)&&!s)return!0;if(ye(n,t))break}else if(l(n)&&ye(n,t))break}}};function ge(e,t,r){const s=v(e,r);if(s||m(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),n=v(t,s),i=v(e,s);if(n&&!Array.isArray(n)&&r!==s)return{name:r};if(i&&i.type)return{name:s,error:i};if(i&&i.root&&i.root.type)return{name:`${s}.root`,error:i.root};a.pop()}return{name:r}}var he=(e,t,r)=>{const s=W(v(e,r));return _(s,"root",t[r]),_(e,r,s),e};function ve(e,t,r="validate"){if(M(e)||Array.isArray(e)&&e.every(M)||b(e)&&!e)return{type:r,message:M(e)?e:"",ref:t}}var be=e=>l(e)&&!le(e)?e:{value:e,message:""},pe=async(e,t,r,s,n,o)=>{const{ref:u,refs:d,required:c,maxLength:f,minLength:m,min:g,max:h,pattern:_,validate:V,name:x,valueAsNumber:w,mount:F}=e._f,k=v(r,x);if(!F||t.has(x))return{};const D=d?d[0]:u,E=e=>{n&&D.reportValidity&&(D.setCustomValidity(b(e)?"":e||""),D.reportValidity())},O={},C=z(u),R=a(u),T=C||R,j=(w||X(u))&&y(u.value)&&y(k)||Y(u)&&""===u.value||""===k||Array.isArray(k)&&!k.length,N=P.bind(null,x,s,O),L=(e,t,r,s="maxLength",a="minLength")=>{const n=e?t:r;O[x]={type:e?s:a,message:n,ref:u,...N(e?s:a,n)}};if(o?!Array.isArray(k)||!k.length:c&&(!T&&(j||i(k))||b(k)&&!k||R&&!se(d).isValid||C&&!ie(d).isValid)){const{value:e,message:t}=M(c)?{value:!!c,message:c}:be(c);if(e&&(O[x]={type:A,message:t,ref:D,...N(A,t)},!s))return E(t),O}if(!(j||i(g)&&i(h))){let e,t;const r=be(h),a=be(g);if(i(k)||isNaN(k)){const s=u.valueAsDate||new Date(k),n=e=>new Date((new Date).toDateString()+" "+e),i="time"==u.type,o="week"==u.type;M(r.value)&&k&&(e=i?n(k)>n(r.value):o?k>r.value:s>new Date(r.value)),M(a.value)&&k&&(t=i?n(k)<n(a.value):o?k<a.value:s<new Date(a.value))}else{const s=u.valueAsNumber||(k?+k:k);i(r.value)||(e=s>r.value),i(a.value)||(t=s<a.value)}if((e||t)&&(L(!!e,r.message,a.message,"max","min"),!s))return E(O[x].message),O}if((f||m)&&!j&&(M(k)||o&&Array.isArray(k))){const e=be(f),t=be(m),r=!i(e.value)&&k.length>+e.value,a=!i(t.value)&&k.length<+t.value;if((r||a)&&(L(r,e.message,t.message),!s))return E(O[x].message),O}if(_&&!j&&M(k)){const{value:e,message:t}=be(_);if(le(e)&&!k.match(e)&&(O[x]={type:S,message:t,ref:u,...N(S,t)},!s))return E(t),O}if(V)if(p(V)){const e=ve(await V(k,r),D);if(e&&(O[x]={...e,...N("validate",e.message)},!s))return E(e.message),O}else if(l(V)){let e={};for(const t in V){if(!G(e)&&!s)break;const a=ve(await V[t](k,r),D,t);a&&(e={...a,...N(t,a.message)},E(a.message),s&&(O[x]=e))}if(!G(e)&&(O[x]={ref:D,...e},!s))return O}return E(!0),O};const _e={mode:w,reValidateMode:x,shouldFocusError:!0};function Ve(e={}){let t,r={..._e,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:p(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},o={},m=(l(r.defaultValues)||l(r.values))&&f(r.defaultValues||r.values)||{},h=r.shouldUnregister?{}:f(m),x={action:!1,mount:!1,watch:!1,keepIsValid:!1},w={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},S=0;const A={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},k={...A};let D={...k};const E={array:H(),state:H()},O=r.criteriaMode===F,C=async e=>{if(!x.keepIsValid&&!r.disabled&&(k.isValid||D.isValid||e)){let e;r.resolver?(e=G((await B()).errors),T()):e=await U(o,!0),e!==s.isValid&&E.state.next({isValid:e})}},T=(e,t)=>{!r.disabled&&(k.isValidating||k.validatingFields||D.isValidating||D.validatingFields)&&((e||Array.from(w.mount)).forEach(e=>{e&&(t?_(s.validatingFields,e,t):J(s.validatingFields,e))}),E.state.next({validatingFields:s.validatingFields,isValidating:!G(s.validatingFields)}))},N=(e,t,r,s)=>{const a=v(o,e);if(a){const n=v(h,e,y(r)?v(m,e):r);y(n)||s&&s.defaultChecked||t?_(h,e,t?n:oe(a._f)):K(e,n),x.mount&&!x.action&&C()}},L=(e,t,a,n,i)=>{let o=!1,l=!1;const u={name:e};if(!r.disabled){if(!a||n){(k.isDirty||D.isDirty)&&(l=s.isDirty,s.isDirty=u.isDirty=I(),o=l!==u.isDirty);const r=j(v(m,e),t);l=!!v(s.dirtyFields,e),r?J(s.dirtyFields,e):_(s.dirtyFields,e,!0),u.dirtyFields=s.dirtyFields,o=o||(k.dirtyFields||D.dirtyFields)&&l!==!r}if(a){const t=v(s.touchedFields,e);t||(_(s.touchedFields,e,a),u.touchedFields=s.touchedFields,o=o||(k.touchedFields||D.touchedFields)&&t!==a)}o&&i&&E.state.next(u)}return o?u:{}},B=async e=>{T(e,!0);const t=await r.resolver(h,r.context,((e,t,r,s)=>{const a={};for(const r of e){const e=v(t,r);e&&_(a,r,e._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}})(e||w.mount,o,r.criteriaMode,r.shouldUseNativeValidation));return t},U=async(t,a,n={valid:!0})=>{for(const i in t){const o=t[i];if(o){const{_f:t,...i}=o;if(t){const i=w.array.has(t.name),l=o._f&&fe(o._f);l&&k.validatingFields&&T([t.name],!0);const u=await pe(o,w.disabled,h,O,r.shouldUseNativeValidation&&!a,i);if(l&&k.validatingFields&&T([t.name]),u[t.name]&&(n.valid=!1,a||e.shouldUseNativeValidation))break;!a&&(v(u,t.name)?i?he(s.errors,u,t.name):_(s.errors,t.name,u[t.name]):J(s.errors,t.name))}!G(i)&&await U(i,a,n)}}return n.valid},I=(e,t)=>!r.disabled&&(e&&t&&_(h,e,t),!j(ie(),m)),P=(e,t,r)=>R(e,w,{...x.mount?h:y(t)?m:M(e)?{[e]:t}:t},r,t),K=(e,t,r={})=>{const s=v(o,e);let n=t;if(s){const r=s._f;r&&(!r.disabled&&_(h,e,ae(t,r)),n=Y(r.ref)&&i(t)?"":t,$(r.ref)?[...r.ref.options].forEach(e=>e.selected=n.includes(e.value)):r.refs?a(r.ref)?r.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(n)?e.checked=!!n.find(t=>t===e.value):e.checked=n===e.value||!!n)}):r.refs.forEach(e=>e.checked=e.value===n):X(r.ref)?r.ref.value="":(r.ref.value=n,r.ref.type||E.state.next({name:e,values:f(h)})))}(r.shouldDirty||r.shouldTouch)&&L(e,n,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&ne(e)},Z=(e,t,r)=>{for(const s in t){if(!t.hasOwnProperty(s))return;const a=t[s],i=e+"."+s,u=v(o,i);(w.array.has(e)||l(a)||u&&!u._f)&&!n(a)?Z(i,a,r):K(i,a,r)}},te=(e,t,r={})=>{const a=v(o,e),n=w.array.has(e),l=f(t);_(h,e,l),n?(E.array.next({name:e,values:f(h)}),(k.isDirty||k.dirtyFields||D.isDirty||D.dirtyFields)&&r.shouldDirty&&E.state.next({name:e,dirtyFields:ee(m,h),isDirty:I(e,l)})):!a||a._f||i(l)?K(e,l,r):Z(e,l,r),me(e,w)?E.state.next({...s,name:e,values:f(h)}):E.state.next({name:x.mount?e:void 0,values:f(h)})},re=async e=>{x.mount=!0;const a=e.target;let i=a.name,l=!0;const d=v(o,i),c=e=>{l=Number.isNaN(e)||n(e)&&isNaN(e.getTime())||j(e,v(h,i,e))},m=de(r.mode),y=de(r.reValidateMode);if(d){let n,p;const x=a.type?oe(d._f):u(e),F=e.type===V||"focusout"===e.type,A=!((g=d._f).mount&&(g.required||g.min||g.max||g.maxLength||g.minLength||g.pattern||g.validate)||r.resolver||v(s.errors,i)||d._f.deps)||((e,t,r,s,a)=>!a.isOnAll&&(!r&&a.isOnTouch?!(t||e):(r?s.isOnBlur:a.isOnBlur)?!e:!(r?s.isOnChange:a.isOnChange)||e))(F,v(s.touchedFields,i),s.isSubmitted,y,m),M=me(i,w,F);_(h,i,x),F?a&&a.readOnly||(d._f.onBlur&&d._f.onBlur(e),t&&t(0)):d._f.onChange&&d._f.onChange(e);const R=L(i,x,F),N=!G(R)||M;if(!F&&E.state.next({name:i,type:e.type,values:f(h)}),A)return(k.isValid||D.isValid)&&("onBlur"===r.mode?F&&C():F||C()),N&&E.state.next({name:i,...M?{}:R});if(!F&&M&&E.state.next({...s}),r.resolver){const{errors:e}=await B([i]);if(T([i]),c(x),l){const t=ge(s.errors,o,i),r=ge(e,o,t.name||i);n=r.error,i=r.name,p=G(e)}}else T([i],!0),n=(await pe(d,w.disabled,h,O,r.shouldUseNativeValidation))[i],T([i]),c(x),l&&(n?p=!1:(k.isValid||D.isValid)&&(p=await U(o,!0)));l&&(d._f.deps&&(!Array.isArray(d._f.deps)||d._f.deps.length>0)&&ne(d._f.deps),((e,a,n,i)=>{const o=v(s.errors,e),l=(k.isValid||D.isValid)&&b(a)&&s.isValid!==a;var u;if(r.delayError&&n?(u=()=>((e,t)=>{_(s.errors,e,t),E.state.next({errors:s.errors})})(e,n),t=e=>{clearTimeout(S),S=setTimeout(u,e)},t(r.delayError)):(clearTimeout(S),t=null,n?_(s.errors,e,n):J(s.errors,e)),(n?!j(o,n):o)||!G(i)||l){const t={...i,...l&&b(a)?{isValid:a}:{},errors:s.errors,name:e};s={...s,...t},E.state.next(t)}})(i,p,n,R))}var g},se=(e,t)=>{if(v(s.errors,t)&&e.focus)return e.focus(),1},ne=async(e,t={})=>{let a,n;const i=W(e);if(r.resolver){const t=await(async e=>{const{errors:t}=await B(e);if(T(e),e)for(const r of e){const e=v(t,r);e?_(s.errors,r,e):J(s.errors,r)}else s.errors=t;return t})(y(e)?e:i);a=G(t),n=e?!i.some(e=>v(t,e)):a}else e?(n=(await Promise.all(i.map(async e=>{const t=v(o,e);return await U(t&&t._f?{[e]:t}:t)}))).every(Boolean),(n||s.isValid)&&C()):n=a=await U(o);return E.state.next({...!M(e)||(k.isValid||D.isValid)&&a!==s.isValid?{}:{name:e},...r.resolver||!e?{isValid:a}:{},errors:s.errors}),t.shouldFocus&&!n&&ye(o,se,e?i:w.mount),n},ie=(e,t)=>{let r={...x.mount?h:m};return t&&(r=q(t.dirtyFields?s.dirtyFields:s.touchedFields,r)),y(e)?r:M(e)?v(r,e):e.map(e=>v(r,e))},le=(e,t)=>({invalid:!!v((t||s).errors,e),isDirty:!!v((t||s).dirtyFields,e),error:v((t||s).errors,e),isValidating:!!v(s.validatingFields,e),isTouched:!!v((t||s).touchedFields,e)}),ce=(e,t,r)=>{const a=(v(o,e,{_f:{}})._f||{}).ref,n=v(s.errors,e)||{},{ref:i,message:l,type:u,...d}=n;_(s.errors,e,{...d,...t,ref:a}),E.state.next({name:e,errors:s.errors,isValid:!1}),r&&r.shouldFocus&&a&&a.focus&&a.focus()},ve=e=>E.state.subscribe({next:t=>{var r,a,n;r=e.name,a=t.name,n=e.exact,r&&a&&r!==a&&!W(r).some(e=>e&&(n?e===a:e.startsWith(a)||a.startsWith(e)))||!((e,t,r,s)=>{r(e);const{name:a,...n}=e;return G(n)||Object.keys(n).length>=Object.keys(t).length||Object.keys(n).find(e=>t[e]===(!s||F))})(t,e.formState||k,ke,e.reRenderRoot)||e.callback({values:{...h},...s,...t,defaultValues:m})}}).unsubscribe,be=(e,t={})=>{for(const a of e?W(e):w.mount)w.mount.delete(a),w.array.delete(a),t.keepValue||(J(o,a),J(h,a)),!t.keepError&&J(s.errors,a),!t.keepDirty&&J(s.dirtyFields,a),!t.keepTouched&&J(s.touchedFields,a),!t.keepIsValidating&&J(s.validatingFields,a),!r.shouldUnregister&&!t.keepDefaultValue&&J(m,a);E.state.next({values:f(h)}),E.state.next({...s,...t.keepDirty?{isDirty:I()}:{}}),!t.keepIsValid&&C()},Ve=({disabled:e,name:t})=>{if(b(e)&&x.mount||e||w.disabled.has(t)){const r=w.disabled.has(t)!==!!e;e?w.disabled.add(t):w.disabled.delete(t),r&&x.mount&&!x.action&&C()}},xe=(e,t={})=>{let s=v(o,e);const n=b(t.disabled)||b(r.disabled);return _(o,e,{...s||{},_f:{...s&&s._f?s._f:{ref:{name:e}},name:e,mount:!0,...t}}),w.mount.add(e),s?Ve({disabled:b(t.disabled)?t.disabled:r.disabled,name:e}):N(e,!0,t.value),{...n?{disabled:t.disabled||r.disabled}:{},...r.progressive?{required:!!t.required,min:ue(t.min),max:ue(t.max),minLength:ue(t.minLength),maxLength:ue(t.maxLength),pattern:ue(t.pattern)}:{},name:e,onChange:re,onBlur:re,ref:n=>{if(n){xe(e,t),s=v(o,e);const r=y(n.value)&&n.querySelectorAll&&n.querySelectorAll("input,select,textarea")[0]||n,i=(e=>z(e)||a(e))(r),l=s._f.refs||[];if(i?l.find(e=>e===r):r===s._f.ref)return;_(o,e,{_f:{...s._f,...i?{refs:[...l.filter(Q),r,...Array.isArray(v(m,e))?[{}]:[]],ref:{type:r.type,name:e}}:{ref:r}}}),N(e,!1,void 0,r)}else s=v(o,e,{}),s._f&&(s._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&(!d(w.array,e)||!x.action)&&w.unMount.add(e)}}},we=()=>r.shouldFocusError&&ye(o,se,w.mount),Fe=(e,t)=>async a=>{let n;a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let i=f(h);if(E.state.next({isSubmitting:!0}),r.resolver){const{errors:e,values:t}=await B();T(),s.errors=e,i=f(t)}else await U(o);if(w.disabled.size)for(const e of w.disabled)J(i,e);if(J(s.errors,"root"),G(s.errors)){E.state.next({errors:{}});try{await e(i,a)}catch(e){n=e}}else t&&await t({...s.errors},a),we(),setTimeout(we);if(E.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:G(s.errors)&&!n,submitCount:s.submitCount+1,errors:s.errors}),n)throw n},Se=(e,t={})=>{const a=e?f(e):m,n=f(a),i=G(e),l=i?m:n;if(t.keepDefaultValues||(m=a),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...w.mount,...Object.keys(ee(m,h))]);for(const t of Array.from(e)){const e=v(s.dirtyFields,t),r=v(h,t),a=v(l,t);e&&!y(r)?_(l,t,r):e||y(a)||te(t,a)}}else{if(c&&y(e))for(const e of w.mount){const t=v(o,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Y(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(const e of w.mount)te(e,v(l,e));else o={}}h=r.shouldUnregister?t.keepDefaultValues?f(m):{}:f(l),E.array.next({values:{...l}}),E.state.next({values:{...l}})}w={mount:t.keepDirtyValues?w.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},x.mount=!k.isValid||!!t.keepIsValid||!!t.keepDirtyValues||!r.shouldUnregister&&!G(l),x.watch=!!r.shouldUnregister,x.keepIsValid=!!t.keepIsValid,x.action=!1,t.keepErrors||(s.errors={}),E.state.next({submitCount:t.keepSubmitCount?s.submitCount:0,isDirty:!i&&(t.keepDirty?s.isDirty:!(!t.keepDefaultValues||j(e,m))),isSubmitted:!!t.keepIsSubmitted&&s.isSubmitted,dirtyFields:i?{}:t.keepDirtyValues?t.keepDefaultValues&&h?ee(m,h):s.dirtyFields:t.keepDefaultValues&&e?ee(m,e):t.keepDirty?s.dirtyFields:{},touchedFields:t.keepTouched?s.touchedFields:{},errors:t.keepErrors?s.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&s.isSubmitSuccessful,isSubmitting:!1,defaultValues:m})},Ae=(e,t)=>Se(p(e)?e(h):e,{...r.resetOptions,...t}),ke=e=>{s={...s,...e}},De={control:{register:xe,unregister:be,getFieldState:le,handleSubmit:Fe,setError:ce,_subscribe:ve,_runSchema:B,_updateIsValidating:T,_focusError:we,_getWatch:P,_getDirty:I,_setValid:C,_setFieldArray:(e,t=[],a,n,i=!0,l=!0)=>{if(n&&a&&!r.disabled){if(x.action=!0,l&&Array.isArray(v(o,e))){const t=a(v(o,e),n.argA,n.argB);i&&_(o,e,t)}if(l&&Array.isArray(v(s.errors,e))){const t=a(v(s.errors,e),n.argA,n.argB);i&&_(s.errors,e,t),((e,t)=>{!g(v(e,t)).length&&J(e,t)})(s.errors,e)}if((k.touchedFields||D.touchedFields)&&l&&Array.isArray(v(s.touchedFields,e))){const t=a(v(s.touchedFields,e),n.argA,n.argB);i&&_(s.touchedFields,e,t)}(k.dirtyFields||D.dirtyFields)&&(s.dirtyFields=ee(m,h)),E.state.next({name:e,isDirty:I(e,t),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else _(h,e,t)},_setDisabledField:Ve,_setErrors:e=>{s.errors=e,E.state.next({errors:s.errors,isValid:!1})},_getFieldArray:e=>g(v(x.mount?h:m,e,r.shouldUnregister?v(m,e,[]):[])),_reset:Se,_resetDefaultValues:()=>p(r.defaultValues)&&r.defaultValues().then(e=>{Ae(e,r.resetOptions),E.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of w.unMount){const t=v(o,e);t&&(t._f.refs?t._f.refs.every(e=>!Q(e)):!Q(t._f.ref))&&be(e)}w.unMount=new Set},_disableForm:e=>{b(e)&&(E.state.next({disabled:e}),ye(o,(t,r)=>{const s=v(o,r);s&&(t.disabled=s._f.disabled||e,Array.isArray(s._f.refs)&&s._f.refs.forEach(t=>{t.disabled=s._f.disabled||e}))},0,!1))},_subjects:E,_proxyFormState:k,get _fields(){return o},get _formValues(){return h},get _state(){return x},set _state(e){x=e},get _defaultValues(){return m},get _names(){return w},set _names(e){w=e},get _formState(){return s},get _options(){return r},set _options(e){r={...r,...e}}},subscribe:e=>(x.mount=!0,D={...D,...e.formState},ve({...e,formState:{...A,...e.formState}})),trigger:ne,register:xe,handleSubmit:Fe,watch:(e,t)=>p(e)?E.state.subscribe({next:r=>"values"in r&&e(P(void 0,t),r)}):P(e,t,!0),setValue:te,getValues:ie,reset:Ae,resetField:(e,t={})=>{v(o,e)&&(y(t.defaultValue)?te(e,f(v(m,e))):(te(e,t.defaultValue),_(m,e,f(t.defaultValue))),t.keepTouched||J(s.touchedFields,e),t.keepDirty||(J(s.dirtyFields,e),s.isDirty=t.defaultValue?I(e,f(v(m,e))):I()),t.keepError||(J(s.errors,e),k.isValid&&C()),E.state.next({...s}))},clearErrors:e=>{const t=e?W(e):void 0;null==t||t.forEach(e=>J(s.errors,e)),t?t.forEach(e=>{E.state.next({name:e,errors:s.errors})}):E.state.next({errors:{}})},unregister:be,setError:ce,setFocus:(e,t={})=>{const r=v(o,e),s=r&&r._f;if(s){const e=s.refs?s.refs[0]:s.ref;e.focus&&setTimeout(()=>{e.focus(),t.shouldSelect&&p(e.select)&&e.select()})}},getFieldState:le};return{...De,formControl:De}}function xe(e={}){const t=s.useRef(void 0),r=s.useRef(void 0),[a,n]=s.useState({isDirty:!1,isValidating:!1,isLoading:p(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:p(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:a},e.defaultValues&&!p(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:r,...s}=Ve(e);t.current={...s,formState:a}}const i=t.current.control;return i._options=e,O(()=>{const e=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(e=>({...e,isReady:!0})),i._formState.isReady=!0,e},[i]),s.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),s.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),s.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),s.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),s.useEffect(()=>{if(i._proxyFormState.isDirty){const e=i._getDirty();e!==a.isDirty&&i._subjects.state.next({isDirty:e})}},[i,a.isDirty]),s.useEffect(()=>{var t;e.values&&!j(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),(null===(t=i._options.resetOptions)||void 0===t?void 0:t.keepIsValid)||i._setValid(),r.current=e.values,n(e=>({...e}))):i._resetDefaultValues()},[i,e.values]),s.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=s.useMemo(()=>E(a,i),[i,a]),t.current}}}]);